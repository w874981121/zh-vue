{"remainingRequest":"/Users/wangyanqi/project/zh-vue/node_modules/thread-loader/dist/cjs.js!/Users/wangyanqi/project/zh-vue/node_modules/babel-loader/lib/index.js!/Users/wangyanqi/project/zh-vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/wangyanqi/project/zh-vue/src/js/barrage/index.js","dependencies":[{"path":"/Users/wangyanqi/project/zh-vue/src/js/barrage/index.js","mtime":1575388617704},{"path":"/Users/wangyanqi/project/zh-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangyanqi/project/zh-vue/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangyanqi/project/zh-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wangyanqi/project/zh-vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF90b0NvbnN1bWFibGVBcnJheSA9IHJlcXVpcmUoIi9Vc2Vycy93YW5neWFucWkvcHJvamVjdC96aC12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXkiKTsKCnZhciBhbmltYXRpb24gPSByZXF1aXJlKCIuL2FuaW1hdGUuanMiKTsKCnJlcXVpcmUoJy4vYmFycmFnZS5jc3MnKTsKCm1vZHVsZS5leHBvcnRzID0gewogIGluc3RhbGw6IGZ1bmN0aW9uIGluc3RhbGwoVnVlKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIFZ1ZS5wcm90b3R5cGUuJHN0YXJ0ID0gZnVuY3Rpb24gKGJhcnJhZ2VfdGFyZ2V0LCBzZWN0aW9uKSB7CiAgICAgIGJhcnJhZ2VfdGFyZ2V0LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICAgIGJhcnJhZ2VfdGFyZ2V0LnN0eWxlLnBvc2l0aW9uID0gInJlbGF0aXZlIjsKICAgICAgcmV0dXJuIF90aGlzLnNlbmQuYmluZChfdGhpcywgYmFycmFnZV90YXJnZXQsIHNlY3Rpb24pOwogICAgfTsKICB9LAogIHNlbmQ6IGZ1bmN0aW9uIHNlbmQoKSB7CiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgIH0KCiAgICB2YXIgdGFyZ2V0ID0gYXJnc1swXSwKICAgICAgICBfYXJncyQgPSBhcmdzWzFdLAogICAgICAgIHNlY3Rpb24gPSBfYXJncyQgPT09IHZvaWQgMCA/IFswLCAxLCAyLCAzXSA6IF9hcmdzJCwKICAgICAgICBvcHRpb25zID0gYXJnc1syXSwKICAgICAgICB0ZXh0ID0gb3B0aW9ucy50ZXh0LAogICAgICAgIGNvbG9yID0gb3B0aW9ucy5jb2xvciwKICAgICAgICBjbGFzc25hbWUgPSBvcHRpb25zLmNsYXNzbmFtZSwKICAgICAgICBzcGVlZCA9IG9wdGlvbnMuc3BlZWQsCiAgICAgICAgYmFycmFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLAogICAgICAgIG1heCA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIF90b0NvbnN1bWFibGVBcnJheShzZWN0aW9uKSksCiAgICAgICAgbWluID0gTWF0aC5taW4uYXBwbHkoTWF0aCwgX3RvQ29uc3VtYWJsZUFycmF5KHNlY3Rpb24pKTsKICAgIGJhcnJhZ2UuY2xhc3NMaXN0LmFkZCgiYmFycmFnZSIpOwogICAgYmFycmFnZS5pbm5lckhUTUwgPSAhdGV4dCA/ICLpu5jorqTlvLnluZUwMDAwMDAwMDAwIiA6IHRleHQ7CiAgICBjbGFzc25hbWUgJiYgYmFycmFnZS5jbGFzc0xpc3QuYWRkKGNsYXNzbmFtZSk7CiAgICBiYXJyYWdlLnN0eWxlLmNvbG9yID0gY29sb3I7CiAgICBiYXJyYWdlLnN0eWxlLmxlZnQgPSB0YXJnZXQub2Zmc2V0V2lkdGggKyAicHgiOwogICAgdGFyZ2V0LmFwcGVuZENoaWxkKGJhcnJhZ2UpOwoKICAgIGlmIChtYXggIT09IG1pbikgewogICAgICBiYXJyYWdlLnN0eWxlLnRvcCA9IChNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW4pICogKHRhcmdldC5vZmZzZXRIZWlnaHQgLSBiYXJyYWdlLm9mZnNldEhlaWdodCkgKyAicHgiOwogICAgfSBlbHNlIHsKICAgICAgYmFycmFnZS5zdHlsZS50b3AgPSBNYXRoLnJhbmRvbSgpICogKHRhcmdldC5vZmZzZXRIZWlnaHQgLSBiYXJyYWdlLm9mZnNldEhlaWdodCkgKyAicHgiOwogICAgfQoKICAgIGFuaW1hdGlvbihiYXJyYWdlLCAibGVmdCIsIHRhcmdldC5vZmZzZXRXaWR0aCArIGJhcnJhZ2Uub2Zmc2V0V2lkdGgsIHNwZWVkLCBmdW5jdGlvbiAoKSB7CiAgICAgIGJhcnJhZ2UucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiYXJyYWdlKTsKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["/Users/wangyanqi/project/zh-vue/src/js/barrage/index.js"],"names":["animation","require","module","exports","install","Vue","prototype","$start","barrage_target","section","style","overflow","position","send","bind","args","target","options","text","color","classname","speed","barrage","document","createElement","max","Math","min","classList","add","innerHTML","left","offsetWidth","appendChild","top","random","offsetHeight","parentNode","removeChild"],"mappings":";;AAAA,IAAIA,SAAS,GAAGC,OAAO,CAAC,cAAD,CAAvB;;AACAA,OAAO,CAAC,eAAD,CAAP;;AACAC,MAAM,CAACC,OAAP,GAAiB;AAChBC,EAAAA,OADgB,mBACRC,GADQ,EACJ;AAAA;;AACXA,IAAAA,GAAG,CAACC,SAAJ,CAAcC,MAAd,GAAuB,UAACC,cAAD,EAAiBC,OAAjB,EAA6B;AACnDD,MAAAA,cAAc,CAACE,KAAf,CAAqBC,QAArB,GAAgC,QAAhC;AACAH,MAAAA,cAAc,CAACE,KAAf,CAAqBE,QAArB,GAAgC,UAAhC;AACA,aAAO,KAAI,CAACC,IAAL,CAAUC,IAAV,CAAe,KAAf,EAAoBN,cAApB,EAAmCC,OAAnC,CAAP;AACA,KAJD;AAKA,GAPe;AAQhBI,EAAAA,IAAI,EAAC,gBAAa;AAAA,sCAATE,IAAS;AAATA,MAAAA,IAAS;AAAA;;AAAA,QACVC,MADU,GAC4BD,IAD5B;AAAA,iBAC4BA,IAD5B;AAAA,QACFN,OADE,uBACM,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,CADN;AAAA,QACiBQ,OADjB,GAC4BF,IAD5B;AAAA,QAEhBG,IAFgB,GAEcD,OAFd,CAEhBC,IAFgB;AAAA,QAEXC,KAFW,GAEcF,OAFd,CAEXE,KAFW;AAAA,QAELC,SAFK,GAEcH,OAFd,CAELG,SAFK;AAAA,QAEKC,KAFL,GAEcJ,OAFd,CAEKI,KAFL;AAAA,QAGjBC,OAHiB,GAGPC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAHO;AAAA,QAIjBC,GAJiB,GAIXC,IAAI,CAACD,GAAL,OAAAC,IAAI,qBAAQjB,OAAR,EAJO;AAAA,QAKjBkB,GALiB,GAKXD,IAAI,CAACC,GAAL,OAAAD,IAAI,qBAAQjB,OAAR,EALO;AAOjBa,IAAAA,OAAO,CAACM,SAAR,CAAkBC,GAAlB,CAAsB,SAAtB;AAGAP,IAAAA,OAAO,CAACQ,SAAR,GAAoB,CAACZ,IAAD,GAAQ,gBAAR,GAA2BA,IAA/C;AACAE,IAAAA,SAAS,IAAIE,OAAO,CAACM,SAAR,CAAkBC,GAAlB,CAAsBT,SAAtB,CAAb;AACAE,IAAAA,OAAO,CAACZ,KAAR,CAAcS,KAAd,GAAsBA,KAAtB;AACAG,IAAAA,OAAO,CAACZ,KAAR,CAAcqB,IAAd,GAAsBf,MAAM,CAACgB,WAAR,GAAuB,IAA5C;AAGAhB,IAAAA,MAAM,CAACiB,WAAP,CAAmBX,OAAnB;;AACA,QAAIG,GAAG,KAAKE,GAAZ,EAAiB;AAChBL,MAAAA,OAAO,CAACZ,KAAR,CAAcwB,GAAd,GAAoB,CAACR,IAAI,CAACS,MAAL,MAAiBV,GAAG,GAAGE,GAAvB,IAA8BA,GAA/B,KAAuCX,MAAM,CAACoB,YAAP,GAAsBd,OAAO,CAACc,YAArE,IAAqF,IAAzG;AACA,KAFD,MAEK;AACJd,MAAAA,OAAO,CAACZ,KAAR,CAAcwB,GAAd,GAAoBR,IAAI,CAACS,MAAL,MAAiBnB,MAAM,CAACoB,YAAP,GAAsBd,OAAO,CAACc,YAA/C,IAA+D,IAAnF;AACA;;AAEDpC,IAAAA,SAAS,CAACsB,OAAD,EAAU,MAAV,EAAkBN,MAAM,CAACgB,WAAP,GAAqBV,OAAO,CAACU,WAA/C,EAA4DX,KAA5D,EAAmE,YAAW;AACtFC,MAAAA,OAAO,CAACe,UAAR,CAAmBC,WAAnB,CAA+BhB,OAA/B;AACA,KAFQ,CAAT;AAIA;AAnCe,CAAjB","sourcesContent":["var animation = require(\"./animate.js\");\r\nrequire('./barrage.css')\r\nmodule.exports = {\r\n\tinstall(Vue){\r\n\t\tVue.prototype.$start = (barrage_target, section) => {\r\n\t\t\tbarrage_target.style.overflow = \"hidden\";\r\n\t\t\tbarrage_target.style.position = \"relative\";\r\n\t\t\treturn this.send.bind(this,barrage_target,section);\r\n\t\t};\r\n\t},\r\n\tsend:(...args) => {\r\n\t\tconst [target, section=[0,1,2,3], options] = args,\r\n\t\t{text,color,classname,speed} = options,\r\n\t\tbarrage = document.createElement(\"div\"),\r\n\t\tmax = Math.max(...section),\r\n\t\tmin = Math.min(...section);\r\n\r\n\t\tbarrage.classList.add(\"barrage\");\r\n\r\n\r\n\t\tbarrage.innerHTML = !text ? \"默认弹幕0000000000\" : text;\r\n\t\tclassname && barrage.classList.add(classname);\r\n\t\tbarrage.style.color = color;\r\n\t\tbarrage.style.left = (target.offsetWidth) + \"px\";\r\n\r\n\t\t\r\n\t\ttarget.appendChild(barrage);\r\n\t\tif( max !== min ){\r\n\t\t\tbarrage.style.top = (Math.random() * (max - min) + min) * (target.offsetHeight - barrage.offsetHeight) + \"px\";\r\n\t\t}else{\r\n\t\t\tbarrage.style.top = Math.random() * (target.offsetHeight - barrage.offsetHeight) + \"px\";\r\n\t\t}\r\n\r\n\t\tanimation(barrage, \"left\", target.offsetWidth + barrage.offsetWidth, speed, function() {\r\n\t\t\tbarrage.parentNode.removeChild(barrage);\r\n\t\t})\r\n\r\n\t}\r\n}"]}]}